<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=7,IE=9">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script> 
<script src="//cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
<link rel="stylesheet" href="https://js.arcgis.com/4.13/esri/themes/light/main.css"/>
<link rel="stylesheet" href="css/style.css"/>
</head>
<body>
<div class="container-fluid min-100 p-0 d-flex flex-column">
  <nav class=" w-100 navbar navbar-expand-lg navbar-dark navbar-custom"> <img src="images/massdot_logo.png" class="img-fluid" alt="Placeholder image"><a class="navbar-brand">CIP 2020 Comment Tool</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto flex-grow-1">
        <li class="nav-item active m-2"> <a class="nav-link" href="https://www.mass.gov/service-details/capital-investment-plan-cip" target="_blank">Go to CIP Document</a> </li>
        <li class="nav-item m-2">
          <button class="btn btn-outline-info my-2 my-sm-0 m-1" data-toggle="modal" data-target="#aboutTool">Help</button>
        </li>
        <li class="nav-item m-2">
          <button class="btn btn-outline-info my-2 my-sm-0 m-1" data-toggle="modal" data-target="#generalComment">General Comment</button>
        </li>
        <li class="nav-item m-2">
          <div class="btn my-2 my-sm-0 m-2">
            <div id="google_translate_element"></div>
          </div>
        </li>
        <li class="nav-item form-inline m-2 flex-grow-1"> Project Search: 	&nbsp;
          <input class="form-control mr-sm-2 flex-grow-1" type="search" id="projectSearch" placeholder="Search for a project. E.g. Red-Blue Connector" aria-label="Search">
        </li>
      </ul>
    </div>
  </nav>
  <div class="row m-0 p-0 flex-grow-1">
    <div class="col-xl-2">
      <h4>Filter Projects</h4>
      <label for="division">MassDOT Division</label>
      <div class="input-group mb-3">
        <select class="form-control filter" id="division">
          <option>All</option>
        </select>
      </div>
      <label for="townSelect">Town</label>
      <div class="input-group mb-3">
        <select class="form-control filter" id="townSelect">
          <option value="0">All</option>
        </select>
      </div>
      <label for="mpoSelect">MPO</label>
      <div class="input-group mb-3">
        <select class="form-control town-filter" id="mpoSelect">
          <option value="All">All</option>
        </select>
      </div>
      <div class="filter mr-sm-2 w-100 ">
        <input class="geomCheck" type="checkbox" id="townPrjs" checked>
        <label class="form-check-label" for="townPrjs"> Town-wide projects </label>
      </div>
      <div class="filter mr-sm-2 w-100 ">
        <input class="geomCheck" type="checkbox" id="rtaPrjs" checked>
        <label class="form-check-label" for="rtaPrjs"> RTA-wide projects </label>
      </div>
      <div class="filter mr-sm-2 w-100 ">
        <input class="geomCheck" type="checkbox" id="districtPrjs" checked>
        <label class="form-check-label" for="districtPrjs"> Highway District projects </label>
      </div>
      <label for="programs">CIP Program</label>
      <div class="input-group mb-3">
        <select class="form-control custom-select filter" id="programs" multiple>
          <option value="All" division="All" selected>All</option>
        </select>
      </div>
      <div>
        <label for="amount">Cost Range</label>
        <form class="form">
          <div class="form-inline flex-grow-1">Min:  $
            <input type="text" class="form-control form-control-sm costInput flex-grow-1 m-2" id="minCost" placeholder="0" value="0">
          </div>
          <div class="form-inline ">Max:  $
            <input type="text" class="form-control form-control-sm costInput flex-grow-1 m-2" id="maxCost" placeholder="5,000,000,000" value="5,000,000,000">
          </div>
        </form>
        <div id="cost-range" 	class="filter"></div>
      </div>
      <br>
      <div class="filter mr-sm-2">
        <p>To view town, RTA, or statewide projects which match the current filters, click on that town or RTA in the map</p>
      </div>
    </div>
    <div class="col-xl-8" id="viewDiv"> </div>
    <div class="col-xl-2">
      <div class="sideContents m-2" id="helpContents">
        <h4 class="">Welcome to the CIP Comment Tool and Interactive Map!</h4>
        <p class="string page_help" id="page_help_main"></p>
        <form class="form-inline my-2 my-lg-0 p-2">
          <button type="button" class="btn btn-primary my-2 my-sm-0 btn-block" data-toggle="modal" data-target="#generalComment">Leave a General Comment</button>
        </form>
      </div>
      <div id="interactive" class="m-2" style="display: none">
        <div class="comment-form">
          <form id="commentForm" class= "w-100 sideContents" >
            <h4>Leave a Comment</h4>
            <div class="form-group">
              <label for="nameField">Name</label>
              <input type="text" class="form-control" id="nameField" placeholder="Optional" name="nameField">
              <label for="emailField">Email (Optional)</label>
              <input type="text" class="form-control" id="emailField" placeholder="Optional" name="emailField">
              <label for="townField">Town/Organization (Optional)</label>
              <input type="text" class="form-control" id="townField" placeholder="Optional" name="townField">
            </div>
            <div class="form-group">
              <label for="commentField">Comments</label>
              <textarea class="form-control" id="commentField" placeholder="Enter your comments here" name="commentField" required></textarea>
              <div class="invalid-feedback"> Please enter a comment in the textarea. </div>
            </div>
            <div class="alert alert-warning string project_comment_failure" role="alert" style="display: none" > </div>
            <div class="alert alert-success string project_comment_success" role="alert" style="display: none" > </div>
            <button class="btn btn-primary m-2" id="likeProject" type="button">Like Project</button>
            <button class="btn btn-primary m-2" id="submitComment" type="submit">Submit Comment</button>
          </form>
        </div>
        <div id="prjLikes" class="alert alert-success string" style="display: none" > </div>
        <div class="comment-list overflow-auto" style="max-height: 600px;">
          <div class="w-100" id="projectList" >
            <div class="container">
              <div class="row">
                <div class="col">
                  <div class="page-header">
                    <h3> Comments </h3>
                  </div>
                  <div class="comments-list" id="results"> </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade show" id="aboutTool" tabindex="-1" role="dialog" aria-labelledby="aboutToolTitle" aria-hidden="true"> </div>
<div class="modal fade show" id="generalComment" tabindex="-1" role="dialog" aria-labelledby="generalCommentTitle" aria-hidden="true"> </div>
<div class="modal fade show" id="loading" tabindex="-1" role="dialog" aria-labelledby="loadingTitle" aria-hidden="true" data-backdrop="static" data-keyboard="false"></div>
<script type="text/javascript">
function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'ar,es,fr,ht,it,km,ko,pl,pt,ru,vi,zh-CN', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        document.querySelector('#google_translate_element') !== null ? document.querySelector('#google_translate_element').classList.add('has-rendered') : '';
}
</script> 
<script src="https://js.arcgis.com/4.13/"></script> 
<script src="js/page_contents.js"></script> 
<script src="js/controls.js"></script> 
<script src="js/map.js"></script> 
<script src="js/comments.js"></script>
</body>
</html>