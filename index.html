<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=7,IE=9">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script> 
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script> 
<script src="//cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
<link rel="stylesheet" href="https://js.arcgis.com/4.13/esri/themes/light/main.css"/>
<link rel="stylesheet" href="css/style.css"/>
</head>
<body>
<div id="mainDiv" class="container-fluid h-100 w-100 d-flex flex-column">
  <nav class="navbar navbar-expand-sm s-navbar navbar-custom w-100"><img src="images/massdot_logo.png" class="img-fluid" alt="Placeholder image"><a class="navbar-brand">CIP 2020 Comment Tool</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active"> <a class="nav-link" href="https://www.mass.gov/service-details/capital-investment-plan-cip" target="_blank">Go to CIP Document<span class="sr-only">(current)</span></a> </li>
      </ul>
      <form class="form-inline my-2 my-lg-0 p-2">
        <button type="button" class="btn btn-outline-success my-2 my-sm-0 m-2" data-toggle="modal" data-target="#aboutTool">About this Tool</button>
        <button type="button" class="btn btn-outline-success my-2 my-sm-0" data-toggle="modal" data-target="#generalComment">General Comment</button>
        <div class="btn my-2 my-sm-0 m-2">
          <div id="google_translate_element"></div>
        </div>
      </form>
    </div>
  </nav>
  <div class="row container-fluid flex-fill">
    <main class="col" style="background-color: white">
      <div class="row h-100 w-100">
        <div class="col w-15 h-100 sideContents" >
          <h4>Filter Projects</h4>
          <label for="division">MassDOT Division</label>
          <select class="form-control filter" id="division">
            <option>All</option>
          </select>
          <label for="townSelect">Town</label>
          <select class="form-control town-filter" id="townSelect">
            <option value="0">All</option>
          </select>
          <label for="mpoSelect">MPO</label>
          <select class="form-control town-filter" id="mpoSelect">
            <option value="All">All</option>
          </select>
          <div class="filter mr-sm-2 filter w-100 ">
            <input class="" type="checkbox" id="mpoSpecific">
            <label class="form-check-label" for="mpoSpecific"> MPO Selected Projects </label>
          </div>
          <label for="programs">CIP Program</label>
          <select class="custom-select filter" id="programs" multiple>
            <option value="All" division="All" selected>All</option>
          </select>
          <form class="form-inline">
            <label for="amount">Cost range: $</label>
            <input type="text" class="form-control form-control-sm col-sm-3 costInput" id="minCost" placeholder="0" value="0">
            - $
            <input type="text" class="form-control form-control-sm col-sm-3 costInput" id="maxCost" placeholder="5,000,000,000" value="5,000,000,000">
          </form>
          <div id="cost-range" 	class="filter"></div>
        </div>
        <div class="col-8 w-70 d-flex flex-column h-100">
          <div class="form-group row">
            <label for="projectSearch" class="col-sm-1 col-form-label">Project Search</label>
            <div class="col-sm-10">
              <input class="form-control mr-sm-2 input" id="projectSearch" type="text" placeholder="Search for a project. E.g. Red-Blue Connector">
            </div>
          </div>
          <div id="viewDiv" class="w-100 p-0 row justify-content-center bg-blue flex-grow-1" ></div>
        </div>
        <div class="col w-15 h-100 container-fluid">
          <form id="commentForm" class= "w-100 h-20 sideContents" style="display: none">
            <h4>Leave a Comment</h4>
            <div class="form-group">
              <label for="nameField">Name</label>
              <input type="text" class="form-control" id="nameField" placeholder="Optional" name="nameField">
              <label for="emailField">Email (Optional)</label>
              <input type="text" class="form-control" id="emailField" placeholder="Optional" name="emailField">
              <label for="townField">Town/Organization (Optional)</label>
              <input type="text" class="form-control" id="townField" placeholder="Optional" name="townField">
            </div>
            <div class="form-group">
              <label for="commentField">Comments</label>
              <textarea class="form-control" id="commentField" placeholder="Enter your comments here" name="commentField" required></textarea>
              <div class="invalid-feedback"> Please enter a comment in the textarea. </div>
            </div>
            <div class="alert alert-warning string project_comment_failure" role="alert" style="display: none" > </div>
            <div class="alert alert-success string project_comment_success" role="alert" style="display: none" > </div>
            <button class="btn btn-primary" id="likeProject" type="submit">Like Project</button>
            <button class="btn btn-primary" id="submitComment" type="submit">Submit Comment</button>
          </form>
          <div class="w-100 h-80" id="projectList" style="display: none">
            <h4 class="w-100 h-10">Comments</h4>
            <div id="results" class="container overflow-auto w-100 h-40 row"> </div>
            <div class="container">
            </div>
          </div>
          <div class="w-100 h-80 container-fluid sideContents" id="helpContents">
            <h4 class="w-100 h-10">Welcome to the CIP Comment Tool and Interactive Map!</h4>
            <p class="string page_help" id="page_help_main"></p>
            <form class="form-inline my-2 my-lg-0 p-2">
              <button type="button" class="btn btn-primary my-2 my-sm-0" data-toggle="modal" data-target="#generalComment">Leave a General Comment</button>
            </form>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
<div class="modal fade show" id="aboutTool" tabindex="-1" role="dialog" aria-labelledby="aboutToolTitle" aria-hidden="true"> </div>
<div class="modal fade show" id="generalComment" tabindex="-1" role="dialog" aria-labelledby="generalCommentTitle" aria-hidden="true"> </div>
<div class="modal fade show" id="loading" tabindex="-1" role="dialog" aria-labelledby="loadingTitle" aria-hidden="true" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        <h5 class="modal-title text-center">Finding projects...</h5>
        <div class="text-center">
          <div class="spinner-border" role="status"> <span class="sr-only">Loading...</span> </div>
        </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript">
function googleTranslateElementInit() {
        new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'ar,es,fr,ht,it,km,ko,pl,pt,ru,vi,zh-CN', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
        document.querySelector('#google_translate_element') !== null ? document.querySelector('#google_translate_element').classList.add('has-rendered') : '';
}
</script> 
<script src="https://js.arcgis.com/4.13/"></script> 
<script src="js/page_contents.js"></script> 
<script src="js/controls.js"></script> 
<script src="js/map.js"></script> 
<script src="js/comments.js"></script>
</body>
</html>